import asyncio
import random

from aiogram import Router
from aiogram.filters import CommandStart, Command
from aiogram.types import Message
from aiogram.utils import keyboard

from create_bot import bot

# Список для хранения ID чатов
user_ids = {1489826664, 1862471199}

quotes = [
    "Ты — машина, брат! 💪🚀 Никто тебя не остановит, пока ты сам не скажешь: 'Я устал!' А усталости у нас нет в словаре! 🔥",
    "Сегодняшняя боль — это плата за завтрашние результаты! 🩸😤 Ты готов платить? Тогда вперёд, в бой! 💥",
    "Слабак ищет отговорки, чемпион ищет возможности! 💣 Ты какой? Вставай и действуй, братан! 🦾",
    "Пока другие спят, ты должен пахать, как лев в саванне! 🦁⏰ Хочешь быть лучшим? Тогда не жалуйся, просто делай! 💯",
    "Брат, нет волшебной таблетки, нет лёгких путей. Есть только ты, твоя воля и адская работа! 🔨🔥 Рвём, ломаем, побеждаем! 🏆",
    "Если ты не готов выложиться на 110%, то зачем вообще начинал? 😎⚡️ Долби до конца, пока не начнёшь сиять, как алмаз! 💎",
    "Когда тебе тяжело, это хорошо — значит, ты растёшь! 🌱💥 Не сдавайся, прокачивай себя до максимума! 🚀",
    "Ты либо становишься сильнее, либо сдаёшься. 🐺😈 Выбирай мудро, брат, потому что только ты хозяин своей судьбы! 🏋️‍♂️",
    "Сегодня — это единственный день, который имеет значение! 🌅💪 Выжми максимум, и завтра ты скажешь себе: 'Да, я это сделал!' 🥇",
    "Тот, кто борется каждый день, всегда побеждает того, кто ждёт понедельника! 🗓️⚔️ Вперёд, не жди, сделай это прямо сейчас! 🔥",
    "Ты — как железо, бро! Закаляй себя каждый день, и никто тебя не сломает! 🦾🔥",
    "Если ты сейчас остановишься, завтра будет ещё тяжелее! Так что двигайся вперёд, несмотря ни на что! 💥⚡️",
    "Не мечтай о результате — работай над ним! 💣 Чем больше пота сегодня, тем меньше слёз завтра! 🏋️‍♂️",
    "Твои ограничения — это только иллюзия! 🌀 Рви их на части и выходи за рамки! 🚀",
    "Каждый день — это новая возможность стать лучше, чем ты был вчера! 🌄💪",
    "Сильные духом не сдаются, они только становятся сильнее! 🐅💥",
    "Ты должен быть тем, кто сам себе мотиватор, потому что никто другой не сделает это за тебя! 👊🔥",
    "Всё или ничего, брат! 🏆 Либо ты идёшь до конца, либо даже не начинай! 🚀",
    "Ты как танк: если не остановишься — пройдёшь через любые преграды! 💣🛡️",
    "Твой успех зависит только от тебя! 🗝️ Перестань искать оправдания и начни искать решения! 🔥",
    "Делай всё на максимуме, даже когда никто не смотрит! 🎯 Ведь настоящий чемпион всегда играет на пределе! 💪",
    "Сегодня ты проиграешь только тогда, когда сам решишь сдаться! 🛑 А ты не из тех, кто сдается! 🔥",
    "Никто не придёт и не даст тебе всё на блюдечке. 🏆 Твои успехи — результат твоих усилий! 💪",
    "Ты создаёшь своё завтра своими действиями сегодня! 🌅 Так что вставай и жги! 🔥",
    "Один шаг за раз, брат, и ты добьёшься того, о чём мечтаешь! 🚶‍♂️🏔️",
    "Ты как алмаз — чем больше тебя обрабатывают, тем ярче ты сияешь! 💎🔥",
    "Сначала будет трудно, потом будет больно, но в конце будет стоить каждого усилия! 💥🏆",
    "Если ты не пытаешься стать лучше каждый день, то ты не двигаешься вперёд! 🛤️🚀",
    "Делай то, что нужно, даже когда не хочется! Это и есть сила духа! 🦁💥",
    "Ты либо делаешь историю, либо остаёшься в тени! Выбирай сам! 🏆😎",
    "Жги так, чтобы завтра все спросили: 'Как ты это сделал?' 🔥🚀",
    "Когда думаешь, что выложился на 100%, добавь ещё 10%! 💯⚡️",
    "Путь к успеху вымощен потом и слезами, но награда стоит каждой капли! 🩸🏆",
    "Двигайся как танк — мощно и неудержимо, и пусть преграды трепещут! 💥🦾",
    "Побеждает тот, кто не сдается, даже когда на пределе! 🛡️🔥",
    "Прокачивай не только мышцы, но и свою волю! 💪🧠",
    "Ты не можешь изменить прошлое, но можешь изменить своё будущее! 🚀🌅",
    "Боли не избежать, но её можно сделать своим лучшим тренером! 🩸💥",
    "Твоя дисциплина — это твой суперсила! 🦸‍♂️⚡️",
    "Не будь тем, кто говорит 'завтра'. Будь тем, кто делает сегодня! 💣🔥",
    "Когда все отдыхают, ты работаешь — вот где рождаются чемпионы! 🏆😤",
    "Не ждешь мотивации, ты сам её создаешь! 💪🔥",
    "Не важно, как сильно ты падаешь, важно, как высоко ты встаешь! 🦅💥",
    "Проблемы — это возможности в маскировке. Рви их на части! 🦾🚀",
    "Если ты не готов терпеть боль, забудь о победе! 🩸🏆",
    "Ты не слабак, ты воин! 🛡️😈 Бей до последнего удара!",
    "Пусть твоя работа говорит громче, чем твои слова! 🎯💣",
    "Если ты не растёшь, ты умираешь. Двигайся вперёд, брат! 🌱🔥",
    "Тот, кто сегодня сдается, завтра станет жалеть об этом. Не будь этим парнем! 🚫😤",
    "Ты можешь всё, если не будешь останавливаться! 🏋️‍♂️⚡️"
]
start_router = Router()

@start_router.message(CommandStart())
async def cmd_start(message: Message):
    # Добавляем ID чата пользователя в список и логируем это
    user_ids.add(message.chat.id)
    print(f"Пользователь добавлен: {message.chat.id}")
    await message.answer('Бро, начинаем поднимать тебе мотивацию!!!')

# Фоновая задача для отправки сообщений
async def send_motivational_messages():
    print("Запущена фоновая задача для отправки сообщений")
    while True:
        if user_ids:
            print(f"Пользователи для отправки: {user_ids}")
            for user_id in list(user_ids):
                try:
                    if not quotes:  # Если список цитат пустой, заполняем заново
                        quotes.extend([
                            "Ты как танк: если не остановишься, то пройдёшь через любые преграды! 💣🛡️",
                            "Ты не можешь изменить прошлое, но можешь изменить своё будущее! 🚀🌅",
                            "Всё или ничего! Либо ты идёшь до конца, либо не начинай! 🏆🔥",
                            "Не мечтай о результате — работай над ним! 💣🔥",
                            "Когда всем тяжело, это значит, что ты растёшь! 🌱💥",
                            "Слабак сдается, чемпион находит решение! 🧠💡",
                            "Если хочешь быть лучшим, работай, пока другие отдыхают! 🦾⏰",
                            "Ты должен быть тем, кто сам себе мотиватор, потому что никто другой не сделает это за тебя! 👊💥",
                            "Твоя дисциплина — это твоя суперсила! ⚡🦸‍♂️",
                            "Не важно, как сильно ты падаешь, важно, как высоко ты встаёшь! 🦅💥",
                            "Ты создаёшь своё завтра своими действиями сегодня! 🌅🔥",
                            "Жги так, чтобы все спросили: 'Как ты это сделал?' 🔥🚀",
                            "Проблемы — это возможности в маскировке. Рви их на части! 🦾⚡",
                            "Не ждёшь мотивации, ты сам её создаешь! 💪🔥",
                            "Если ты не готов терпеть боль, забудь о победе! 🩸🏆",
                            "Сегодня ты проиграешь только тогда, когда сам решишь сдаться! 🛑🔥",
                            "Ты не слабак, ты воин! 🛡️💥 Бей до последнего удара!",
                            "Твой успех зависит только от тебя! 🔥💯",
                            "Каждый день ты становишься сильнее, чем был вчера! 💪🔥",
                            "Ты как алмаз — чем больше тебя обрабатывают, тем ярче ты сияешь! 💎🔥",
                            "Когда все отдыхают, ты работаешь — вот где рождаются чемпионы! 🏆🔥",
                            "Не мечтай о лёгких путях, строй свою дорогу к успеху! 🛤️🚀",
                            "Hell yeah только зацени мой набор для массонаборного пресса и отжимании💦💦💦 Ни минуты покоя и отвлечения на какие-нибудь приколы смски или игры. Топовый успех достигается лишь следующим образом. Берешь покупаешь на ВСЕ ДЕНЬГИ спортинвентарь и наваливаешь как король дома сносишь кабины медведям втапливлаешь свою мышечную печь до предела , таким образом при регулярных тренировках спустя время ты будешь видеть БЕШЕНЫЙ прогресс которым будешь хвалиться перед богатым папой и бедным папой👊",
                            "Я, Александр Кудряшов, обычный парень из маленького городка, который идёт к своим целям и"
                            +"мечтам. Буквально вчера я разносил бургеры толстым потным мужикам в макдональдсе, а уже"
                            +"сегодня они бегают по Гранд - Каньону в поиске меня для того чтобы взять автограф.Я НЕ"
                            +"СДАЛСЯ.Я взял себя за яйца и прокладывал дорогу к мечте родзедрим.Что мешает тебе, обычному"
                            +"парню из маленького городка, стоять со мной рядом, попивая гейнер и слушая Хард - рок?👊",
                            "Что-то странное творится в мире бро. Днём солнце есть , ночью его нет. Вчера бейби нет , сегодня оп навалил и я стал отцом. А тот самый турник с твоего района есть всегда, не брезгуй идя домой потягивая слабоалкогольное пивко оформить три подхода по три подхода подтягивании , организм скажет тебе спасибо и наутро ты себя будешь чувствовать как красавчик 👊",
                            "На часах 4:30? Встал с кровати. НАЧАЛ. Будь мужиком и львом, сегодня или никогда. Объясню вкратце. Ежи, когда ты смотришь на кого-то кто уже пробежал по стадиону 19 кругов, начни бежать вместе с ним гад дэм, как в том фильме Форест гам, СИЛЬНО. Пять килограмм риса в день, четыре индейки + два литра воды, пробежка в любую погоду около дома, сбрасывай жир и зарабатывай мышци, черт Мэн я уже чувствую твои яица. Одним днём твой отец наверняка бы завидовал твоей силе воле, начни с яиц и закончи молоком с протеином и гейнером. Бей ковры которые висят на улице, бей их кулаками, нарабатывай мышцы квадрицепс. Каждый день, не прекращая ,никаких отступлений ,вспомни что кричали праотцы на войне ,ни шагу назад. 🦾Мы воины Спарты, мы кричим, Мэн,одним днём я встану и посмотрю на тебя как отец , ежи, увижу в твоих глазах мудрость и силу праотцов. Одним днём мужик... \nЗАКОНЧИЛ.🚀🐅 \nРазучи меня верить в мышцы.👊",
                            "Hell yeah, братва! Сегодня, как и завтра и вчера , ты работаешь над своими долбанными целями: переводишь бабушку через дорогу , учишься на права , сдаешь сессию или ЕГЭ, топишь как король в зале , чтобы построить красивое тело. Помни , что ты - яйца, бро. И только от твоей силы , мотивации и мощи будет зависеть успех в будущем. Действуй незамедлительно. ЗАКОНЧИЛИ с долбанными хомяками и дотой. Сейчас же. Ничто не должно отвлекать тебя от подъема на вершину Олимпа , чтобы одного дня твои богатый папа и бедный папа стали гордиться тобой👊",
                        ])

                    quote = random.choice(quotes)  # Выбираем случайную цитату
                    for id in user_ids:
                        print(f"Отправляем цитату '{quote}' пользователю {id}")
                        await bot.send_message(id, quote)
                    quotes.remove(quote)
                except Exception as e:
                    print(f"Ошибка при отправке сообщения пользователю {user_id}: {e}")
        else:
            print("Нет пользователей для отправки сообщений")
        await asyncio.sleep(3600)  # Ждём 1 минуту

@start_router.message(CommandStart())
async def cmd_start(message: Message):
    # Добавляем ID чата пользователя в список и логируем это
    user_ids.add(message.chat.id)
    print(f"Пользователь добавлен: {message.chat.id}")
    await message.answer('Бро, начинаем поднимать тебе мотивацию!!!')

@start_router.message(Command("stop"))
async def stop_sending(message: Message):
    global send_messages
    send_messages = False
    await message.answer('Отправка сообщений остановлена. Мотивации пока не будет, мужик', reply_markup=keyboard)